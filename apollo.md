# 介绍

什么是阿波罗客户端, 它能做什么?

阿波罗客户端是使用 GraphQL 来构造客户端应用的最佳方式. 这个客户端被设计成能够帮助你很快地构造一个从 GraphQL 获取数据的 UI, 并且可以用于任何的 JavaScript 前端. 这个客户端是:

- 可移植的: 你可以把它放到一个现有的 app 里面.
- 通用的: 阿波罗适用于任何编译配置, 任何 GraphQL 服务器 和 任何 GraphQL schema.
- 可观测和易懂的: 清晰地知道应用中正在发生什么.
- 为交互应用而生: 应用的用户做出修改然后立刻看到反应.
- 小巧灵活: 你不会得到你不需要的东西.
- 社区驱动: 阿波罗是社区驱动的, 并且适用于多种场景.

# 为什么选择 Apollo 客户端来管理数据?

数据管理不应该是一件难事! 如果你在思考如何简化对React应用中远程和本地数据的管理, 那么你就选对地方了. 通过我们的实际实例应用 Pupstagram, 你会学到 Apollo 的只能缓存和声明式的数据获取方法, 能够帮助你更快的而且写更少的代码. 让我们开始吧! 🚀

# 声明式数据获取

通过 Apollo 的声明式方式来获取数据, 所有的数据搜索逻辑, 载入过程和错误状态, 以及对 UI 的更新全都包含在一个单独的 Query 组件中. 这使得你的 Query 组件和表现层的组件结合起来非常容易! 让我们看看 React Apollo 中它是什么样子的:

```js
const Feed = () => (
  <Query query={GET_DOGS}>
    {({ loading, error, data }) => {
      if (error) return <Error />
      if (loading || !data) return <Fetching />;

      return <DogList dogs={data.dogs} />
    }}
  </Query>
)
```

这里我们使用了一个 Query 组件来从 GraphQL 服务器获取到一些 dogs, 并且显示爱一个列表里. Query 组件使用 React render prop API (包含一个函数作为子组件) 来绑定一个 query 到我们的组件, 并且基于 query 的返回值来渲染. 一旦我们的数据返回了, 我们的 `<DogList/>` 组件就会根据所需的数据来更新.

Apollo Client 会管理好请求的开始到结束, 包括载入进度和错误状态. 你不需要设置中间件或者是编写模板, 你也不需要担心转换和缓存回复. 你要做的只是描述你的组件所需要的数据, 然后让 Apollo Client 来做重活. 💪

当你切换到 Apollo Client 之后, 你会发现你可以删除很多关于数据管理的不必要的代码. 具体的数据取决于你的应用, 但有一些团队报告说是几千行的代码. 当你发现使用 Apollo 可以编写更少的代码时, 这不意味着你需要压缩新功能! 高级功能可以通过 Query 组件的 props 很容易地得到, 例如 优化 UI, 重试, 以及分页等.


